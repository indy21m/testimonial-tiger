<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WordPress Widget Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .test-section {
            margin: 40px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        pre {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>WordPress-Compatible Widget Embed Codes</h1>
    
    <div class="test-section">
        <h2>Method 1: Standard Embed (Recommended)</h2>
        <p>Copy this code to your WordPress page/post (in HTML/Text mode):</p>
        <pre><code>&lt;!-- Testimonial Tiger Widget --&gt;
&lt;div id="tt-widget-96e4fe85-87b7-45e4-9f7c-6f9610cab74d"&gt;&lt;/div&gt;
&lt;script src="https://tiger.zoostack.com/widget/96e4fe85-87b7-45e4-9f7c-6f9610cab74d"&gt;&lt;/script&gt;</code></pre>
        
        <h3>Live Test:</h3>
        <div id="tt-widget-96e4fe85-87b7-45e4-9f7c-6f9610cab74d"></div>
        <script src="https://tiger.zoostack.com/widget/96e4fe85-87b7-45e4-9f7c-6f9610cab74d"></script>
    </div>

    <div class="test-section">
        <h2>Method 2: Delayed Loading (For slow WordPress sites)</h2>
        <p>If Method 1 doesn't work, try this in a Custom HTML block:</p>
        <pre><code>&lt;div id="tt-widget-96e4fe85-87b7-45e4-9f7c-6f9610cab74d"&gt;&lt;/div&gt;
&lt;script&gt;
  // Delay loading to ensure WordPress is ready
  setTimeout(function() {
    var script = document.createElement('script');
    script.src = 'https://tiger.zoostack.com/widget/96e4fe85-87b7-45e4-9f7c-6f9610cab74d';
    document.body.appendChild(script);
  }, 1000);
&lt;/script&gt;</code></pre>
        
        <h3>Live Test:</h3>
        <div id="tt-widget-delayed"></div>
        <script>
          setTimeout(function() {
            var script = document.createElement('script');
            script.src = 'https://tiger.zoostack.com/widget/96e4fe85-87b7-45e4-9f7c-6f9610cab74d';
            script.onload = function() {
              console.log('Delayed script loaded');
            };
            document.body.appendChild(script);
          }, 1000);
        </script>
    </div>

    <div class="test-section">
        <h2>Method 3: WordPress Shortcode (If you add this to functions.php)</h2>
        <p>Add this to your theme's functions.php:</p>
        <pre><code>function testimonial_tiger_widget($atts) {
    $a = shortcode_atts(array(
        'id' => '96e4fe85-87b7-45e4-9f7c-6f9610cab74d'
    ), $atts);
    
    return '&lt;div id="tt-widget-' . esc_attr($a['id']) . '"&gt;&lt;/div&gt;
            &lt;script src="https://tiger.zoostack.com/widget/' . esc_attr($a['id']) . '"&gt;&lt;/script&gt;';
}
add_shortcode('testimonial_widget', 'testimonial_tiger_widget');</code></pre>
        
        <p>Then use in WordPress:</p>
        <pre><code>[testimonial_widget id="96e4fe85-87b7-45e4-9f7c-6f9610cab74d"]</code></pre>
    </div>

    <div class="test-section">
        <h2>Debugging</h2>
        <p>Open browser console (F12) to see debug messages.</p>
        <p>The improved widget now:</p>
        <ul>
            <li>✅ Retries finding the container up to 20 times (every 500ms)</li>
            <li>✅ Waits for DOM to be ready</li>
            <li>✅ Has a final attempt on window load</li>
            <li>✅ Logs detailed debug information</li>
        </ul>
    </div>

    <script>
        console.log('WordPress test page loaded');
        console.log('Current document state:', document.readyState);
    </script>
</body>
</html>